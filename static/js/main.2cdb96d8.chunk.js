(this.webpackJsonpcat_mouse_game=this.webpackJsonpcat_mouse_game||[]).push([[0],{16:function(e,t,r){"use strict";r.r(t);var a=r(15),c=r(5),s=r(6),n=r(10),o=r(9),i=r(0),l=r.n(i),d=r(11),u=r.n(d),h=(r(21),r(14)),v=r(1);function j(e){return Object(v.jsx)("div",{children:Object(v.jsxs)("button",{id:e.value+"-btn",className:"token-btn",children:[Object(v.jsx)("div",{id:e.value+"_overlay",className:"overlay",children:Object(v.jsx)("img",{id:e.value+"_overlay",src:e.correctAnswer===e.value?"/images/good.png":"/images/bad.png",alt:"result"})}),Object(v.jsx)("img",{id:e.value,src:"/images/tokens/"+e.value+"_btn.png",alt:e.value,onClick:e.answerSelected?function(){}:e.onClick})]})},e.value+"-token")}function b(e){return Object(v.jsx)("div",{className:"card",children:Object(v.jsx)("img",{id:e.value+"-card",src:e.value,alt:"current_card",onClick:e.onClick})},e.value+"-card")}var m=function(e){Object(n.a)(r,e);var t=Object(o.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).handleClick=function(e){var t=e.target.id;console.log("I clicked "+t);var r=s.props.deck[s.state.cardNumber];document.getElementById(t+"_overlay").classList.add("active-overlay"),s.setState({answerSelected:!0});var a=r.substring(r.lastIndexOf("_")+1,r.lastIndexOf("."));s.setState({correctAnswer:a}),setTimeout((function(){s.setState({showAnswer:!0})}),500),setTimeout((function(){s.handleCardClick()}),3e3),t===a?(console.log("I got it right!"),s.props.updateScore()):console.log("I got it wrong!")},s.handleCardClick=function(){console.log("CHANGING CARD");var e=s.state.cardNumber+1;s.setState({showAnswer:!1,cardNumber:e,answerSelected:!1});var t=document.getElementsByClassName("active-overlay");Object(a.a)(t).forEach((function(e){return e.classList.remove("active-overlay")}))},s.state={cardNumber:0,answerSelected:!1,correctAnswer:"",showAnswer:!1},s}return Object(s.a)(r,[{key:"renderToken",value:function(e){var t=this;return Object(v.jsx)(j,{value:e,onClick:function(e){return t.handleClick(e)},answerSelected:this.state.answerSelected,correctAnswer:this.state.correctAnswer})}},{key:"render",value:function(){var e=this,t=["mouse","cat","cheese","ball","pillow"].map((function(t){return e.renderToken(t)}));return Object(v.jsxs)("div",{className:"board-row",children:[Object(v.jsx)("div",{className:"game-field",children:Object(v.jsx)(b,{value:"/images/front/"+this.props.deck[this.state.cardNumber],onClick:this.handleCardClick})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"game-info",children:[Object(v.jsxs)("div",{id:"score",children:["Score: ",this.props.score]}),Object(v.jsx)("div",{id:"answer",children:"Correct answer:"}),Object(v.jsx)("div",{className:"answer",children:this.state.showAnswer?Object(v.jsx)(b,{value:"/images/back/"+this.state.correctAnswer+".png",onClick:this.handleCardClick}):""})]})}),Object(v.jsx)("div",{children:t})]})}}]),r}(l.a.Component),g=function(e){for(var t=e.slice(),r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),c=[t[a],t[r]];t[r]=c[0],t[a]=c[1]}return t};function f(e,t){for(var r=[],a=0;a<e;a++)r.push("catmouse"+(a+1)+"_"+t+".png");return r=g(r)}function O(){for(var e=[],t=[10,13,11,11,11],r=["mouse","cat","cheese","ball","pillow"],a=[],c=0;c<5;c++)a.push(f(t[c],r[c]));for(var s="",n=Math.floor(5*Math.random()),o=[0,0,0,0,0],i=0;i<56;i++){for(;r[n]===s;)n=Math.floor(5*Math.random());e.push(a[n][o[n]]),o[n]===a[n].length-1&&(a[n]=g(a[n])),o[n]=(o[n]+1)%a[n].length,s=r[n]}return e}var k=function(e){Object(n.a)(r,e);var t=Object(o.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).state={deck:O(),score:0,bigMode:!1},a}return Object(s.a)(r,[{key:"updateScore",value:function(){console.log("Updating score");var e=this.state.score+1;this.setState({score:e})}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"game",children:Object(v.jsx)("div",{className:"game-board",children:Object(v.jsx)(m,{deck:this.state.deck,updateScore:function(){return e.updateScore()},score:this.state.score})})})}}]),r}(l.a.Component);u.a.render(Object(v.jsx)(h.a,{basename:ProcessingInstruction.env.PUBLIC_URL,children:Object(v.jsx)(k,{})}),document.getElementById("root"))},21:function(e,t,r){}},[[16,1,2]]]);
//# sourceMappingURL=main.2cdb96d8.chunk.js.map